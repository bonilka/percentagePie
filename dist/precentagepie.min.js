var Canva=function(t){var e=t.el,i=function(){var e=t.el.clientWidth;return.1*e};this.textDefault=function(){return"normal "+.5*t.el.clientWidth+"% Helvetica, Arial, sans-serif"},this.prec=t.value,this.borderColor=t.borderColor||"rgb(41, 180, 194)",this.borderWidth=t.borderWidth||i(),this.innerColor=t.innerColor||"transparent",this.textColor=t.textColor||"#000",this.font=t.font||this.textDefault(),this.context=e.getContext("2d")};Canva.prototype.arc=function(t,e,i,n,r,h){this.context.beginPath(),this.context.strokeStyle=this.borderColor,this.context.lineWidth=h,this.context.arc(t.x,t.y,e,i,n,r),this.context.stroke()},Canva.prototype.round=function(t,e){this.context.beginPath(),this.context.arc(t.x,t.y,e,0,2*Math.PI,!1),this.context.fillStyle=this.innerColor,this.context.fill()},Canva.prototype.printText=function(t){this.context.textBaseline="middle",this.context.textAlign="center",this.context.font=this.font,this.context.fillStyle=this.textColor,this.context.fillText(t.text,t.center.x,t.center.y)},window.Pie=function(t){var e=this;this.parentEl=document.getElementById(t.id),this.createEl(),this.calcCenter(),t.el=this.el,this.text=t.text,Canva.call(this,t),this.print(),window.addEventListener("resize",function(){(e.parentEl.clientWidth>e.w||e.parentEl.clientWidth<e.w)&&(e.setSize(),e.print(),this.text&&this.printText({text:this.prec+"%",center:this.center}))})},Pie.prototype=Object.create(Canva.prototype),Pie.prototype.constructor=Canva,Pie.prototype.createEl=function(){this.el=document.createElement("canvas"),this.setSize(),this.parentEl.appendChild(this.el),this.el.style.display="block"},Pie.prototype.setSize=function(){this.setHeight(),this.setWidth()},Pie.prototype.setHeight=function(){this.h=this.parentEl.clientWidth,this.el.setAttribute("height",this.h)},Pie.prototype.setWidth=function(){this.w=this.parentEl.clientWidth,this.el.setAttribute("width",this.w)},Pie.prototype.calcCenter=function(){this.center=this.center||{},this.center.x=this.w/2,this.center.y=this.h/2},Pie.prototype.calcArcRad=function(){return 2*this.prec*Math.PI/100+1.5*Math.PI},Pie.prototype.print=function(){this.calcCenter(),this.arc(this.center,this.h/2-this.borderWidth/2,1.5*Math.PI,this.calcArcRad(),!1,this.borderWidth),this.round(this.center,this.h/2-this.borderWidth),this.text&&this.printText({text:this.prec+"%",center:this.center})};
